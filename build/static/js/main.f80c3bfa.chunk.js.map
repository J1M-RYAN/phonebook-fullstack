{"version":3,"sources":["components/search.js","components/phonebookForm.js","components/display.js","components/personsService.js","components/notification.js","components/errors.js","components/app.js","index.js"],"names":["Search","searchParamter","updateSearchParameter","value","onChange","PhonebookForm","handleAddName","newName","newNumber","updateInput","updateNumber","onSubmit","type","Display","persons","removePerson","filter","p","name","toLowerCase","includes","map","key","number","onClick","baseUrl","axios","get","newPerson","post","id","delete","updatedPerson","patch","Notification","message","className","Errors","App","useState","setPersons","setNewName","setNewNumber","setSearchParameter","success","setSuccess","errors","setErrors","useEffect","personsService","then","response","data","event","target","preventDefault","window","confirm","console","log","find","setTimeout","concat","catch","res","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f80c3bfa.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Search = ({ searchParamter, updateSearchParameter }) => {\n  return (\n    <>\n      <div>\n        Search: &nbsp;\n        <input value={searchParamter} onChange={updateSearchParameter} />\n      </div>\n    </>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\n\nconst PhonebookForm = ({\n  handleAddName,\n  newName,\n  newNumber,\n  updateInput,\n  updateNumber,\n}) => {\n  return (\n    <>\n      <form onSubmit={handleAddName}>\n        <div>\n          name: <input value={newName} onChange={updateInput} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={updateNumber} />\n        </div>\n\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PhonebookForm;\n","import React from \"react\";\n\nconst Display = ({ persons, searchParamter, removePerson }) => {\n  return (\n    <>\n      <h1>Numbers</h1>\n      {persons\n        .filter((p) =>\n          p.name.toLowerCase().includes(searchParamter.toLowerCase())\n        )\n        .map((p) => (\n          <div key={p.name}>\n            <span>\n              {p.name} {p.number}\n            </span>\n            <button onClick={removePerson(p)}>delete</button>\n            <br />\n          </div>\n        ))}\n    </>\n  );\n};\n\nexport default Display;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getPeople = () => {\n  return axios.get(baseUrl);\n};\nconst createPerson = (newPerson) => {\n  return axios.post(baseUrl, newPerson);\n};\n\nconst removePerson = (id) => {\n  return axios.delete(baseUrl + \"/\" + id);\n};\n\nconst updatePerson = (id, updatedPerson) => {\n  return axios.patch(baseUrl + \"/\" + id, updatedPerson);\n};\nexport default { getPeople, createPerson, removePerson, updatePerson };\n","import React from \"react\";\nimport \"./index.css\";\n\nconst Notification = ({ message }) => {\n  if (message) {\n    return <h1 className=\"success\">{message}</h1>;\n  } else {\n    return <></>;\n  }\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst Errors = ({ message }) => {\n  if (message) {\n    return (\n      <>\n        <h1 className=\"errors\">{message}</h1>\n      </>\n    );\n  } else {\n    return <></>;\n  }\n};\nexport default Errors;\n","import React, { useState, useEffect } from \"react\";\nimport Search from \"./search\";\nimport PhonebookForm from \"./phonebookForm\";\nimport Display from \"./display\";\nimport personsService from \"./personsService\";\nimport Notification from \"./notification\";\nimport Errors from \"./errors\";\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchParamter, setSearchParameter] = useState(\"\");\n  const [success, setSuccess] = useState(null);\n  const [errors, setErrors] = useState(null);\n  useEffect(() => {\n    personsService.getPeople().then((response) => {\n      setPersons(response.data);\n    });\n  }, []);\n\n  const handleAddName = (event) => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n    if (persons.map((p) => p.name).includes(newName)) {\n      if (window.confirm(`Do you want to update ${newName}'s number?`)) {\n        console.log(\"they do\");\n        personsService.updatePerson(\n          persons.find((p) => p.name === newName).id,\n          newPerson\n        );\n        setPersons(persons.map((p) => (p.name === newName ? newPerson : p)));\n        setSuccess(`Changed ${newName}'s number`);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(() => {\n          setSuccess(null);\n        }, 1000);\n      } else {\n        console.log(\"they dont\");\n        return;\n      }\n    } else {\n      personsService.createPerson(newPerson);\n      setPersons(persons.concat(newPerson));\n      setNewName(\"\");\n      setNewNumber(\"\");\n      setSuccess(`Added ${newName}`);\n      setTimeout(() => {\n        setSuccess(null);\n      }, 1000);\n    }\n  };\n\n  const updateInput = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const updateNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const updateSearchParameter = (event) => {\n    setSearchParameter(event.target.value);\n  };\n\n  const removePerson = (p) => () => {\n    personsService.removePerson(p.id).catch(setErrors(\"there was an error\"));\n\n    console.log(`removed ${p.name}`);\n    window.confirm(`Are you sure you want to delete ${p.name}`)\n      ? setPersons(persons.filter((res) => res.id !== p.id))\n      : console.log(`${p.name} is still in the list`);\n  };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={success} />\n      <Errors message={errors} />\n\n      <Search\n        searchParamter={searchParamter}\n        updateSearchParameter={updateSearchParameter}\n      />\n      <PhonebookForm\n        handleAddName={handleAddName}\n        newName={newName}\n        newNumber={newNumber}\n        updateInput={updateInput}\n        updateNumber={updateNumber}\n      />\n\n      <Display\n        searchParamter={searchParamter}\n        persons={persons}\n        removePerson={removePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/app\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}