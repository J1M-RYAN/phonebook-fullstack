(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),c=n.n(u),l=n(2),o=function(e){var t=e.searchParamter,n=e.updateSearchParameter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Search: \xa0",r.a.createElement("input",{value:t,onChange:n})))},m=function(e){var t=e.handleAddName,n=e.newName,a=e.newNumber,u=e.updateInput,c=e.updateNumber;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:u})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:a,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},i=function(e){var t=e.persons,n=e.searchParamter,a=e.removePerson;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Numbers"),t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("span",null,e.name," ",e.number),r.a.createElement("button",{onClick:a(e)},"delete"),r.a.createElement("br",null))})))},s=n(3),d=n.n(s),f="/api/persons",b=function(){return d.a.get(f)},E=function(e){return d.a.post(f,e)},p=function(e){return d.a.delete(f+"/"+e)},h=function(e,t){return d.a.patch(f+"/"+e,t)},v=(n(36),function(e){var t=e.message;return t?r.a.createElement("h1",{className:"success"},t):r.a.createElement(r.a.Fragment,null)}),g=function(e){var t=e.message;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"errors"},t)):r.a.createElement(r.a.Fragment,null)},w=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),d=s[0],f=s[1],w=Object(a.useState)(""),j=Object(l.a)(w,2),O=j[0],N=j[1],S=Object(a.useState)(""),P=Object(l.a)(S,2),y=P[0],k=P[1],C=Object(a.useState)(null),F=Object(l.a)(C,2),A=F[0],I=F[1],D=Object(a.useState)(null),J=Object(l.a)(D,2),L=J[0],T=J[1];Object(a.useEffect)((function(){b().then((function(e){u(e.data)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(v,{message:A}),r.a.createElement(g,{message:L}),r.a.createElement(o,{searchParamter:y,updateSearchParameter:function(e){k(e.target.value)}}),r.a.createElement(m,{handleAddName:function(e){e.preventDefault();var t={name:d,number:O};if(n.map((function(e){return e.name})).includes(d)){if(!window.confirm("Do you want to update ".concat(d,"'s number?")))return void console.log("they dont");console.log("they do"),h(n.find((function(e){return e.name===d})).id,t),u(n.map((function(e){return e.name===d?t:e}))),I("Changed ".concat(d,"'s number")),f(""),N(""),setTimeout((function(){I(null)}),1e3)}else E(t),u(n.concat(t)),f(""),N(""),I("Added ".concat(d)),setTimeout((function(){I(null)}),1e3)},newName:d,newNumber:O,updateInput:function(e){f(e.target.value)},updateNumber:function(e){N(e.target.value)}}),r.a.createElement(i,{searchParamter:y,persons:n,removePerson:function(e){return function(){p(e.id).catch(T("there was an error")),console.log("removed ".concat(e.name)),window.confirm("Are you sure you want to delete ".concat(e.name))?u(n.filter((function(t){return t.id!==e.id}))):console.log("".concat(e.name," is still in the list"))}}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f80c3bfa.chunk.js.map